# SCATTERPLOT THEME
theme.eager_chart_SCATTER <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# LINE THEME
theme.eager_chart_LINE <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# HISTOGRAM THEME
theme.eager_chart_HIST <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# SMALL MULTIPLE THEME
theme.eager_chart_SMALLM <- theme.eager_chart +
theme(panel.grid.minor = element_blank()) +
theme(strip.text.x = element_text(size=16, family="Trebuchet MS", face="bold", color="#666666"))
g10.df <- in.res[c(1,3,4,6,7,9) , c(1,2,3,5)]
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Name", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
# BASIC THEME
theme.eager_chart <-
theme(legend.position = "right") +
theme(plot.title = element_text(size=26, family="Trebuchet MS", face="bold", hjust=0, color="#666666")) +
theme(axis.title = element_text(size=18, family="Trebuchet MS", face="bold", color="#666666")) +
theme(legend.title= element_text(size=12, family="Trebuchet MS", color="black")) +
theme(legend.text = element_text(size=10, family="Trebuchet MS", color="black")) +
theme(axis.text.x = element_text(size=10, family="Trebuchet MS", color="black", angle=-15)) +
theme(axis.text.y = element_text(size=10, family="Trebuchet MS", color="black")) +
theme(axis.title.y = element_text(angle=0))
# SCATTERPLOT THEME
theme.eager_chart_SCATTER <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# LINE THEME
theme.eager_chart_LINE <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# HISTOGRAM THEME
theme.eager_chart_HIST <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# SMALL MULTIPLE THEME
theme.eager_chart_SMALLM <- theme.eager_chart +
theme(panel.grid.minor = element_blank()) +
theme(strip.text.x = element_text(size=16, family="Trebuchet MS", face="bold", color="#666666"))
g10.df <- in.res[c(1,3,4,6,7,9) , c(1,2,3,5)]
g10.df
colnames(g10.df)
g10.melt <- melt(g10.df, id.vars='Name')
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Name", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Name", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_x_discrete(labels = abbreviate) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Name", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
g10.b <- ggplot(data=g10.melt, aes(x=Name, y=value, group=variable, colour=variable)) +
geom_line(size=1.25) +
geom_point(size=1.25) +
labs(x="Model", y="Accuracy") +
theme.eager_chart_LINE
g10.b
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Model", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.1)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(.6,.9), breaks=seq(.6,.9,by=.1)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(.6,.9), breaks=seq(0,.9,by=.1)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(.6,.9,by=.1)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.1)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(.1,.9,by=.1)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
ggsave("../../analysis/model_accuracy_bar_v2.png")
# BASIC THEME
theme.eager_chart <-
theme(legend.position = "right") +
theme(plot.title = element_text(size=26, family="Trebuchet MS", face="bold", hjust=0, color="#666666")) +
theme(axis.title = element_text(size=18, family="Trebuchet MS", face="bold", color="#666666")) +
theme(legend.title= element_text(size=14, family="Trebuchet MS", color="black")) +
theme(legend.text = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.text.x = element_text(size=12, family="Trebuchet MS", color="black", angle=-15)) +
theme(axis.text.y = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.title.y = element_text(angle=0))
# SCATTERPLOT THEME
theme.eager_chart_SCATTER <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# LINE THEME
theme.eager_chart_LINE <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# HISTOGRAM THEME
theme.eager_chart_HIST <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# SMALL MULTIPLE THEME
theme.eager_chart_SMALLM <- theme.eager_chart +
theme(panel.grid.minor = element_blank()) +
theme(strip.text.x = element_text(size=16, family="Trebuchet MS", face="bold", color="#666666"))
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
# BASIC THEME
theme.eager_chart <-
theme(legend.position = "right") +
theme(plot.title = element_text(size=26, family="Trebuchet MS", face="bold", hjust=0, color="#666666")) +
theme(axis.title = element_text(size=18, family="Trebuchet MS", face="bold", color="#666666")) +
theme(legend.title= element_text(size=14, family="Trebuchet MS", color="black")) +
theme(legend.text = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.text.x = element_text(size=12, family="Trebuchet MS", color="black", angle=-30)) +
theme(axis.text.y = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.title.y = element_text(angle=0))
# SCATTERPLOT THEME
theme.eager_chart_SCATTER <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# LINE THEME
theme.eager_chart_LINE <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# HISTOGRAM THEME
theme.eager_chart_HIST <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# SMALL MULTIPLE THEME
theme.eager_chart_SMALLM <- theme.eager_chart +
theme(panel.grid.minor = element_blank()) +
theme(strip.text.x = element_text(size=16, family="Trebuchet MS", face="bold", color="#666666"))
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_x_discrete(labels= addline_format(variable)) +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
addline_format <- function(x,...){
gsub('\\s','\n',x)
}
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_x_discrete(labels= addline_format(variable)) +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
variable
newline.labels = c("AdaBoost", "Decision\nTree", "Nearest\nNeighbors", "Neural\nNet", "RBF\nSVM", "SVC")
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_x_discrete(labels=newline.labels) +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
# BASIC THEME
theme.eager_chart <-
theme(legend.position = "right") +
theme(plot.title = element_text(size=26, family="Trebuchet MS", face="bold", hjust=0, color="#666666")) +
theme(axis.title = element_text(size=18, family="Trebuchet MS", face="bold", color="#666666")) +
theme(legend.title= element_text(size=14, family="Trebuchet MS", color="black")) +
theme(legend.text = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.text.x = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.text.y = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.title.y = element_text(angle=0))
# SCATTERPLOT THEME
theme.eager_chart_SCATTER <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# LINE THEME
theme.eager_chart_LINE <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# HISTOGRAM THEME
theme.eager_chart_HIST <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# SMALL MULTIPLE THEME
theme.eager_chart_SMALLM <- theme.eager_chart +
theme(panel.grid.minor = element_blank()) +
theme(strip.text.x = element_text(size=16, family="Trebuchet MS", face="bold", color="#666666"))
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_x_discrete(labels=newline.labels) +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
ggsave("../../analysis/model_accuracy_bar_v2.png")
# BASIC THEME
theme.eager_chart <-
theme(legend.position = "right") +
theme(plot.title = element_text(size=26, family="Times New Roman", face="bold", hjust=0, color="#666666")) +
theme(axis.title = element_text(size=18, family="Times New Roman", face="bold", color="#666666")) +
theme(legend.title= element_text(size=14, family="Times New Roman", color="black")) +
theme(legend.text = element_text(size=12, family="Times New Roman", color="black")) +
theme(axis.text.x = element_text(size=12, family="Times New Roman", color="black")) +
theme(axis.text.y = element_text(size=12, family="Times New Roman", color="black")) +
theme(axis.title.y = element_text(angle=0))
# SCATTERPLOT THEME
theme.eager_chart_SCATTER <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# LINE THEME
theme.eager_chart_LINE <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# HISTOGRAM THEME
theme.eager_chart_HIST <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# SMALL MULTIPLE THEME
theme.eager_chart_SMALLM <- theme.eager_chart +
theme(panel.grid.minor = element_blank()) +
theme(strip.text.x = element_text(size=16, family="Trebuchet MS", face="bold", color="#666666"))
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_x_discrete(labels=newline.labels) +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
# BASIC THEME
theme.eager_chart <-
theme(legend.position = "right") +
theme(plot.title = element_text(size=26, family="Trebuchet MS", face="bold", hjust=0, color="#666666")) +
theme(axis.title = element_text(size=18, family="Trebuchet MS", face="bold", color="#666666")) +
theme(legend.title= element_text(size=14, family="Trebuchet MS", color="black")) +
theme(legend.text = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.text.x = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.text.y = element_text(size=12, family="Trebuchet MS", color="black")) +
theme(axis.title.y = element_text(angle=0))
# SCATTERPLOT THEME
theme.eager_chart_SCATTER <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# LINE THEME
theme.eager_chart_LINE <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# HISTOGRAM THEME
theme.eager_chart_HIST <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# SMALL MULTIPLE THEME
theme.eager_chart_SMALLM <- theme.eager_chart +
theme(panel.grid.minor = element_blank()) +
theme(strip.text.x = element_text(size=16, family="Trebuchet MS", face="bold", color="#666666"))
g10.df <- in.res[c(1,3,4,6,7,9) , c(1,2,3,5)]
g10.df
colnames(g10.df)
g10.melt <- melt(g10.df, id.vars='Name')
newline.labels = c("AdaBoost", "Decision\nTree", "Nearest\nNeighbors", "Neural\nNet", "RBF\nSVM", "SVC")
g10.a <- ggplot(data=g10.melt, aes(x=Name, y=value)) +
geom_bar(aes(fill = variable), position = "dodge", stat="identity") +
labs(x="Classifier", y="Accuracy") +
scale_x_discrete(labels=newline.labels) +
scale_fill_manual(values=c("#999999", "#195377", "#56B4E9"),
name="Feature set",
labels=c("Count only", "Text only", "All features")) +
scale_y_continuous(limits=c(0,.9), breaks=seq(0,.9,by=.2)) +
theme.eager_chart_HIST
g10.a
ggsave("../../analysis/model_accuracy_bar_v2.png")
setwd("/Users/sarora/dev/EAGER/data/patents/measures/")
library(dplyr)
library(extrafont)
# font_import()
loadfonts(device = "pdf")
library (ggplot2)
library(scales)
setwd("/Users/Sanjay/dev/EAGER/data/patents/measures/")
# BASIC THEME
theme.eager_chart <-
theme(legend.position = "none") +
theme(plot.title = element_text(size=26, family="Trebuchet MS", face="bold", hjust=0, color="#666666")) +
theme(axis.title = element_text(size=18, family="Trebuchet MS", face="bold", color="#666666")) +
theme(axis.title.y = element_text(angle=0))
# SCATTERPLOT THEME
theme.eager_chart_SCATTER <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# HISTOGRAM THEME
theme.eager_chart_HIST <- theme.eager_chart +
theme(axis.title.x = element_text(hjust=0, vjust=-.5))
# SMALL MULTIPLE THEME
theme.eager_chart_SMALLM <- theme.eager_chart +
theme(panel.grid.minor = element_blank()) +
theme(strip.text.x = element_text(size=16, family="Trebuchet MS", face="bold", color="#666666"))
# load data
in.ass_all <- read.csv("assignees_overall.csv", header = TRUE, stringsAsFactors = FALSE)
in.ass_3 <- read.csv("assignees_3industries.csv", header = TRUE, stringsAsFactors = FALSE)
in.ass_3$patent_id <- as.character(in.ass_3$patent_id)
in.inv_all <- read.csv("inventors_overall.csv", header = TRUE, stringsAsFactors = FALSE)
in.inv_3 <- read.csv("inventors_3industries.csv", header = TRUE)
in.inv_3$id <- as.character(in.inv_3$id)
in.pat_3 <- read.csv("patents_3industries.csv", header = TRUE, stringsAsFactors = FALSE)
in.pat_all <- read.csv("patents_overall.csv", header = TRUE, stringsAsFactors = FALSE)
in.ass_first_year <- read.csv("assignees_first-year.csv", header = TRUE, stringsAsFactors = FALSE)
in.lookup <- read.csv("assignee-2-patent-lookup.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee <- read.csv("..//..//orgs//emps//eager_emps_v2.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee$max_emps <- as.numeric(gsub(",", "", in.eager_assignee$max_emps))
in.eager_assignee$sme <- 1
colnames (in.eager_assignee)
nrow(in.eager_assignee)
nrow(in.eager_assignee[in.eager_assignee$size_state == 'FirmSize.UNDEFINED',]) # == 42
in.eager_assignee <- in.eager_assignee[in.eager_assignee$size_state != 'FirmSize.UNDEFINED',]
nrow(in.eager_assignee)
in.eager_assignee[which(in.eager_assignee$size_state == 'FirmSize.LARGE_FIRM'), 21] <- 0
in.eager_assignee <- in.eager_assignee[,c(1,2,7,15:21)]
nrow(in.eager_assignee[in.eager_assignee$sme == 1, ])
nrow(in.eager_assignee[in.eager_assignee$sme == 1=0, ])
nrow(in.eager_assignee[in.eager_assignee$sme == 0, ])
nrow (in.eager_assignee[in.eager_assignee$size_state == 'FirmSize.UNDEFINED',])
in.eager_assignee <- read.csv("..//..//orgs//emps//eager_emps_v2.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee$max_emps <- as.numeric(gsub(",", "", in.eager_assignee$max_emps))
in.eager_assignee$sme <- 1
colnames (in.eager_assignee)
nrow(in.eager_assignee)
in.eager_assignee <- read.csv("..//..//orgs//emps//eager_emps_v3.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee$max_emps <- as.numeric(gsub(",", "", in.eager_assignee$max_emps))
in.eager_assignee$sme <- 1
colnames (in.eager_assignee)
nrow(in.eager_assignee)
nrow(in.eager_assignee[in.eager_assignee$size_state == 'FirmSize.UNDEFINED',]) # == 42
View(in.eager_assignee)
nrow(in.eager_assignee[in.eager_assignee$hit_url == '',]) # == 97
in.eager_assignee <- in.eager_assignee[in.eager_assignee$size_state != 'FirmSize.UNDEFINED' & in.eager_assignee$hit_url != '',]
nrow(in.eager_assignee)
in.eager_assignee[which(in.eager_assignee$size_state == 'FirmSize.LARGE_FIRM'), 21] <- 0
nrow(in.eager_assignee[in.eager_assignee$sme == 1, ])
nrow(in.eager_assignee[in.eager_assignee$sme == 0, ])
in.eager_assignee <- read.csv("..//..//orgs//emps//eager_emps_v3.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee$max_emps <- as.numeric(gsub(",", "", in.eager_assignee$max_emps))
in.eager_assignee$sme <- 1
colnames (in.eager_assignee)
nrow(in.eager_assignee[in.eager_assignee$size_state == 'FirmSize.UNDEFINED',]) # == 97
# nrow(in.eager_assignee[in.eager_assignee$hit_url == '',]) # == 199
in.eager_assignee <- in.eager_assignee[in.eager_assignee$size_state != 'FirmSize.UNDEFINED' & in.eager_assignee$hit_url != '',]
nrow(in.eager_assignee)
in.eager_assignee <- read.csv("..//..//orgs//emps//eager_emps_v3.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee$max_emps <- as.numeric(gsub(",", "", in.eager_assignee$max_emps))
in.eager_assignee$sme <- 1
colnames (in.eager_assignee)
View(in.eager_assignee)
nrow(in.eager_assignee[in.eager_assignee$size_state == 'FirmSize.UNDEFINED',]) # == 97
# nrow(in.eager_assignee[in.eager_assignee$hit_url == '',]) # == 199
in.eager_assignee <- in.eager_assignee[in.eager_assignee$size_state != 'FirmSize.UNDEFINED' ,]
nrow(in.eager_assignee)
nrow(in.eager_assignee)
in.eager_assignee <- read.csv("..//..//orgs//emps//eager_emps_v3.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee$max_emps <- as.numeric(gsub(",", "", in.eager_assignee$max_emps))
in.eager_assignee$sme <- 1
colnames (in.eager_assignee)
nrow(in.eager_assignee[in.eager_assignee$size_state == 'FirmSize.UNDEFINED',]) # == 97
# nrow(in.eager_assignee[in.eager_assignee$hit_url == '',]) # == 199
in.eager_assignee <- in.eager_assignee[in.eager_assignee$size_state != 'FirmSize.UNDEFINED' ,]
nrow(in.eager_assignee)
in.eager_assignee <- read.csv("..//..//orgs//emps//eager_emps_v3.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee$max_emps <- as.numeric(gsub(",", "", in.eager_assignee$max_emps))
in.eager_assignee$sme <- 1
colnames (in.eager_assignee)
nrow(in.eager_assignee)
nrow(in.eager_assignee[in.eager_assignee$size_state == 'FirmSize.UNDEFINED',]) # == 97
# nrow(in.eager_assignee[in.eager_assignee$hit_url == '',]) # == 199
in.eager_assignee <- in.eager_assignee[in.eager_assignee$size_state != 'FirmSize.UNDEFINED' ,]
nrow(in.eager_assignee)
in.eager_assignee[which(in.eager_assignee$size_state == 'FirmSize.LARGE_FIRM'), 21] <- 0
nrow(in.eager_assignee[in.eager_assignee$sme == 1, ])
nrow(in.eager_assignee[in.eager_assignee$sme == 0, ])
in.eager_assignee <- in.eager_assignee[,c(1,2,7,15:21)]
in.web_pages <- read.csv("..//..//orgs//about//about_predicted_and_labels.csv", header = TRUE, stringsAsFactors = FALSE) # just about page measures
in.web_pages_all <- read.csv("..//..//analysis//measures//simple_web_measures_v2.csv", header = TRUE, stringsAsFactors = FALSE)
in.web_pages_all$avg_words_per_page = in.web_pages_all$num_words / in.web_pages_all$pages
# number of small vs large firms
head(in.pat_all)
head (in.eager_assignee)
count_assignees_by_size <- in.pat_all %>% inner_join(in.eager_assignee, by = c("organization_clnd" = "lookup_firm")) %>% count(sme)
count_assignees_by_size
nrow(in.eager_assignee)
nrow (in.pat_all)
View (in.pat_all)
anti_join(in.pat_all, in.eager_assignee, by = c("organization_clnd" = "lookup_firm"))
View(in.pat_all)
View (in.eager_assignee)
in.eager_assignee <- read.csv("..//..//orgs//emps//eager_emps_v3.csv", header = TRUE, stringsAsFactors = FALSE)
in.eager_assignee$max_emps <- as.numeric(gsub(",", "", in.eager_assignee$max_emps))
in.eager_assignee$sme <- 1
colnames (in.eager_assignee)
nrow(in.eager_assignee)
nrow(in.eager_assignee[in.eager_assignee$size_state == 'FirmSize.UNDEFINED',]) # == 97
# nrow(in.eager_assignee[in.eager_assignee$hit_url == '',]) # == 199
# in.eager_assignee <- in.eager_assignee[in.eager_assignee$size_state != 'FirmSize.UNDEFINED' ,]
nrow(in.eager_assignee)
in.eager_assignee[which(in.eager_assignee$size_state == 'FirmSize.LARGE_FIRM'), 21] <- 0
nrow(in.eager_assignee[in.eager_assignee$sme == 1, ])
nrow(in.eager_assignee[in.eager_assignee$sme == 0, ])
in.eager_assignee <- in.eager_assignee[,c(1,2,7,15:21)]
# nrow(in.eager_assignee[in.eager_assignee$hit_url == '',]) # == 199
# in.eager_assignee <- in.eager_assignee[in.eager_assignee$size_state != 'FirmSize.UNDEFINED' ,]
nrow(in.eager_assignee)
anti_join(in.pat_all, in.eager_assignee, by = c("organization_clnd" = "lookup_firm"))
count_assignees_by_size <- in.pat_all %>% inner_join(in.eager_assignee, by = c("organization_clnd" = "lookup_firm")) %>% count(sme)
nrow(count_assignees_by_size)
count_assignees_by_size
sum(count_assignees_by_size$n)
anti_join(in.eager_assignee, in.pat_all, by = c("lookup_firm" = "organization_clnd"))
nrow(anti_join(in.eager_assignee, in.pat_all, by = c("lookup_firm" = "organization_clnd")))
